<div class="container-fluid">
  <div class="row p-4">
    <div class="col-12 col-sm-3 mt-5">
      <app-filters #Child (filterEvent)="getValuesFromFilters($event)"
        (filterEventColor)="getColorsFromFilters($event)"></app-filters>
    </div>
    <ng-container *ngIf="allProducts && allProducts.length > 0">
      <div class="col mt-5">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb" style="background-color: #dad3c7">
            <li class="breadcrumb-item"><a routerLink='/home' style="color: #514646">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{capitalize(categoryName)}}</li>&nbsp;&nbsp;&nbsp;
            <select id="sort-by" (change)="sort($event)" style="float: right">
              <option value="" selected disabled hidden>Sort By</option>
              <option value="Name">Name</option>
              <option value="Low">Show Low to High Price</option>
              <option value="High">Show High to Low Price</option>
            </select>
          </ol>
        </nav>

        <!-- <div *ngFor="let p of allProducts">
          {{p.Name}} - {{p.Price}}
        </div> -->
        <div class="row mt-5">
          <div class="col-md-4"
            *ngFor="let data of allProducts |filter:searchkey:'title' | paginate:{itemsPerPage:count,currentPage:p}; let i=index">
            <div class="card-sl mb-3">
              <div class="card-image">
                <img appImage src={{data.images[0]}} />
              </div>

              <div class="card-heading">
                {{data.name}}
              </div>
              <div class="card-text">
                {{data.description}}
              </div>
              <div class="card-text">
                {{data.price[0]}} PKR / {{data.size[0]}} Metre <b>|</b> {{data.price[1]}} PKR / {{data.size[1]}} Metre
              </div>
              <a class="card-button" routerLink="/productCotton" (click)="onDataSelection(i)"> Add To Cart</a>
            </div>
          </div>
        </div>
        <div class="text-center mt-5">
          <pagination-controls (pageChange)="p=$event"></pagination-controls>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="allProducts && allProducts.length == 0">
      <div class="col mt-5">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb" style="background-color: #dad3c7">
            <li class="breadcrumb-item"><a routerLink='/home' style="color: #514646">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{capitalize(categoryName)}}</li>&nbsp;&nbsp;&nbsp;
          </ol>
        </nav>

        <!-- <div *ngFor="let p of allProducts">
          {{p.Name}} - {{p.Price}}
        </div> -->
        <div class="row mt-5">
          <div class=" col-md-12">
            <h1>No Data Found</h1>
          </div>
        </div>
      </div>
    </ng-container>


  </div>

  <div class="container">
    <h1 class="d-flex justify-content-center mt-5 text-center">Featured Products</h1>
  </div>
  <div class="container-fluid">
    <div class="row" *ngIf="featured">
      <carousel [height]="700" [cellWidth]="350" [loop]=true [autoplay]=true>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[0].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[0].name}}
            </div>
            <div class="card-text">
              {{featured[0].description}}
            </div>
            <div class="card-text">
              {{featured[0].price[0]}} PKR / {{featured[0].size[0]}} Metre <b>|</b> {{featured[0].price[1]}} PKR /
              {{featured[0].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(0)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[1].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[1].name}}
            </div>
            <div class="card-text">
              {{featured[1].description}}
            </div>
            <div class="card-text">
              {{featured[1].price[0]}} PKR / {{featured[1].size[0]}} Metre <b>|</b> {{featured[1].price[1]}} PKR /
              {{featured[1].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(1)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[2].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[2].name}}
            </div>
            <div class="card-text">
              {{featured[2].description}}
            </div>
            <div class="card-text">
              {{featured[2].price[0]}} PKR / {{featured[2].size[0]}} Metre <b>|</b> {{featured[2].price[1]}} PKR /
              {{featured[2].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(2)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[3].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[3].name}}
            </div>
            <div class="card-text">
              {{featured[3].description}}
            </div>
            <div class="card-text">
              {{featured[3].price[0]}} PKR / {{featured[3].size[0]}} Metre <b>|</b> {{featured[3].price[1]}} PKR /
              {{featured[3].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(3)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[4].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[4].name}}
            </div>
            <div class="card-text">
              {{featured[4].description}}
            </div>
            <div class="card-text">
              {{featured[4].price[0]}} PKR / {{featured[4].size[0]}} Metre <b>|</b> {{featured[4].price[1]}} PKR /
              {{featured[4].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(4)"> Add To Cart</button>
          </div>
        </div>
        <div class="mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[5].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[5].name}}
            </div>
            <div class="card-text">
              {{featured[5].description}}
            </div>
            <div class="card-text">
              {{featured[5].price[0]}} PKR / {{featured[5].size[0]}} Metre <b>|</b> {{featured[5].price[1]}} PKR /
              {{featured[5].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(5)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[6].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[6].name}}
            </div>
            <div class="card-text">
              {{featured[6].description}}
            </div>
            <div class="card-text">
              {{featured[6].price[0]}} PKR / {{featured[6].size[0]}} Metre <b>|</b> {{featured[6].price[1]}} PKR /
              {{featured[6].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(6)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[7].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[7].name}}
            </div>
            <div class="card-text">
              {{featured[7].description}}
            </div>
            <div class="card-text">
              {{featured[7].price[0]}} PKR / {{featured[7].size[0]}} Metre <b>|</b> {{featured[7].price[1]}} PKR /
              {{featured[7].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(7)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[8].images[0]}} />
            </div>
            <div class="card-heading">
              {{featured[8].name}}
            </div>
            <div class="card-text">
              {{featured[8].description}}
            </div>
            <div class="card-text">
              {{featured[8].price[0]}} PKR / {{featured[8].size[0]}} Metre <b>|</b> {{featured[8].price[1]}} PKR /
              {{featured[8].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(8)"> Add To Cart</button>
          </div>
        </div>
        <div class=" mt-2 carousel-cell">
          <div class="card-sl">
            <div class="card-image">
              <img appFeaturedImages src={{featured[9].images[0]}} />
            </div>

            <div class="card-heading">
              {{featured[9].name}}
            </div>
            <div class="card-text">
              {{featured[9].description}}
            </div>
            <div class="card-text">
              {{featured[9].price[0]}} PKR / {{featured[9].size[0]}} Metre <b>|</b> {{featured[9].price[1]}} PKR /
              {{featured[9].size[1]}} Metre

            </div>
            <button class="card-button" (click)="onFeatureDataSelection(9)"> Add To Cart</button>
          </div>
        </div>
      </carousel>
    </div>
  </div>
