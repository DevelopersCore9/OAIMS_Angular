<div class="container-fluid">
  <div class="row p-4">
    <div class="col-md-6" style="background-color: #514646;color: white;">
      <h1 class="text-center mt-5 mb-5"><strong>Shipping</strong></h1>
    </div>
    <div class="col-md-6" style="background-color: #fff;border: 1px solid #000">
      <h1 class="text-center mt-5 mb-5"><strong>Review Payment</strong></h1>
    </div>
  </div>
</div>

<div class="container">
  <h2 class="d-flex justify-content-center mt-5 mb-5 text-center">Your Details</h2>
</div>


<div class="container-fluid pr-5 pl-5">
  <div class="row">
    <div class="col-md-5">
      <div class="row">
        <div class="col-md-12 mt-5">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Full Name</mat-label>
            <input matInput #name [ngModel]="this.loggedInUserData.name" [formControl]="nameFormControl" required
              [errorStateMatcher]="matcher">
            <mat-error *ngIf="nameFormControl.hasError('minlength') && !nameFormControl.hasError('required')">
              Name must have 5 letters
            </mat-error>
            <mat-error *ngIf="nameFormControl.hasError('required')">
              Name is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-6">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Phone Number</mat-label>
            <input matInput style="width: 100%;" [ngModel]="this.loggedInUserData.number" #number required
              [formControl]="phoneFormControl">
            <mat-error *ngIf="phoneFormControl.hasError('pattern') && !phoneFormControl.hasError('required')">
              Phone number should be a number and must consists of 11 digits
            </mat-error>
            <mat-error *ngIf="phoneFormControl.hasError('required')">
              Phone Number is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-6">
          <mat-form-field appearance="outline" class="mr-5" style="width: 100%;">
            <mat-label>City</mat-label>
            <input matInput [ngModel]="this.loggedInUserData.city" #city required [formControl]="cityFormControl">
            <mat-error *ngIf="cityFormControl.hasError('required')">
              City is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-12">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Address</mat-label>
            <textarea matInput [ngModel]="this.loggedInUserData.address" #address [formControl]="addressFormControl"
              required></textarea>
            <mat-error *ngIf="addressFormControl.hasError('required')">
              Address is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-12">
          <div class="example-container">
            <mat-form-field appearance="outline" style="width: 100%;">
              <mat-label>Enter your email</mat-label>
              <input matInput placeholder="pat@example.com" [ngModel]="this.loggedInUserData.userEmail" required
                #userEmail [formControl]="emailFormControl" [errorStateMatcher]="matcher">
              <mat-hint>Errors appear instantly!</mat-hint>
              <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="emailFormControl.hasError('required')">
                Email is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="row" style="float: right">
        <button class="btn mr-3" style="background-color: #514646;color: #fff;"
          [disabled]="nameFormControl.invalid || emailFormControl.invalid || cityFormControl.invalid || phoneFormControl.invalid || addressFormControl.invalid || this.cartData.length == 0"
          (click)="saveInformation(name.value,city.value,number.value,userEmail.value,address.value)">Next</button>
      </div>
    </div>
    <div class="col-md-7 cart p-5">
      <div class="title">
        <div class="row">
          <h3>Your Orders</h3>
        </div>
      </div>
      <div class="row border-top border-bottom" *ngFor="let cart of cartData; index as i">
        <div class="row main align-items-center">
          <div class="col-2"><img class="img-fluid" src={{cart.images[0]}}></div>
          <div class="col-2">
            <div class="row mt-1"><strong>Name</strong>&nbsp; {{ cart.name}}</div>
          </div>
          <div class="col-2 mt-1" >
            <span class="fa-2x dot mt-1 ml-4" [ngStyle]="{ 'background-color': cart.colorSelected }"
                  ng-model="button.value" style="color: transparent"></span>
            <!-- {{cart.colorSelected}}</strong>  -->
          </div>
          <div class="col-2 mt-1"><strong>Size</strong> {{cart.selectedSize}}M</div>
          <div class="col mt-1"><strong>Qty</strong> {{cart.quantity}}</div>
          <div class="col mt-1">Rs.{{cart.selectedPrice}} </div>
          <div class="col"><i class="fa fa-close" (click)="removeItem(i)" style="font-size:36px;color:red;cursor: pointer !important;"></i>
          </div>
          <!-- <button class="btn btn-danger" >Remove</button> -->
        </div>
      </div>
      <div class="container-fluid">
        <div class="row" style="float:right">
          <h4 class="mt-2"><strong>Total:</strong> {{this.totalPrice}} <strong>Rs</strong></h4>
        </div>
      </div>
    </div>
  </div>
</div>
